# Authentication

The **Data Pipeline Ingest API** uses **dual-layer security**. The SDK handles it for you; you only provide credentials when initializing the client.

## How it works

1. **Token** — Sent in the `x-optikpi-token` header.
2. **HMAC signature** — Each request is signed with HMAC-SHA256 using HKDF key derivation.
3. **Headers** — The SDK adds `x-optikpi-account-id`, `x-optikpi-workspace-id`, and the signature headers automatically.

You do not implement crypto or set these headers yourself. Provide the credentials once at startup.

## Credentials

Get these from your **account manager**:

| Credential   | Description                                                       |
| ------------ | ----------------------------------------------------------------- |
| Auth token   | Authentication token                                              |
| Account ID   | Your account identifier                                           |
| Workspace ID | Your workspace identifier                                         |
| API base URL | Ingest API base, e.g. `https://your-api-gateway-url/apigw/ingest` |

## Required headers (set by the SDK)

| Header                 | Description                  |
| ---------------------- | ---------------------------- |
| x-optikpi-account-id   | Your account identifier      |
| x-optikpi-workspace-id | Your workspace identifier    |
| x-optikpi-token        | Authentication token         |
| Signature headers      | HMAC/HKDF (generated by SDK) |

## Example — JavaScript

```javascript
require("dotenv").config();

const sdk = new OptikpiDataPipelineSDK({
  authToken: process.env.AUTH_TOKEN,
  accountId: process.env.ACCOUNT_ID,
  workspaceId: process.env.WORKSPACE_ID,
  baseURL: process.env.API_BASE_URL,
});
```

Other SDKs (Java, Python, PHP) use the same four required values; see each SDK page for initialization syntax.

::: danger
Keep your auth token secret. Use HTTPS only, do not log tokens or sensitive payloads, and do not commit credentials to version control. Use environment variables or a secrets manager.
:::

## Next steps

- [Response Format →](/getting-started/response-format) — Success and error shapes from the Ingest API.
- [Integration Guide →](/data-pipeline-sdk/integration-guide) — Endpoints, rate limits, data models, and best practices.
- Pick an SDK: [JavaScript](/data-pipeline-sdk/javascript), [Java](/data-pipeline-sdk/java), [Python](/data-pipeline-sdk/python), [PHP](/data-pipeline-sdk/php).
